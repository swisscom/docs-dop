<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.20" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    
    <title>Global Settings</title>
    <link href="https://swisscom.github.io/docs-dop//css/nucleus.css" rel="stylesheet">
    <link href="https://swisscom.github.io/docs-dop//css/font-awesome.min.css" rel="stylesheet">
    <link href="https://swisscom.github.io/docs-dop//css/hybrid.css" rel="stylesheet">
    <link href="https://swisscom.github.io/docs-dop//css/featherlight.min.css" rel="stylesheet">
    <link href="https://swisscom.github.io/docs-dop//css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="https://swisscom.github.io/docs-dop//css/horsey.css" rel="stylesheet">
    <link href="https://swisscom.github.io/docs-dop//css/theme.css" rel="stylesheet">
    <link href="https://swisscom.github.io/docs-dop//css/hugo-theme.css" rel="stylesheet">
    <script src="https://swisscom.github.io/docs-dop//js/jquery-2.x.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    

  </head>
  <body class="" data-url="/docs-dop/plan/global_settings/">
    
    <nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://swisscom.github.io/docs-dop">
  <strong>DOP</strong>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input id="search-by" type="text" placeholder="Search">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>
<script type="text/javascript" src="https://swisscom.github.io/docs-dop//js/lunr.min.js"></script>
<script type="text/javascript" src="https://swisscom.github.io/docs-dop//js/horsey.js"></script>
<script type="text/javascript">
    var baseurl = "https:\/\/swisscom.github.io\/docs-dop\/";
</script>
<script type="text/javascript" src="https://swisscom.github.io/docs-dop//js/search.js"></script>

    
</div>


  <div class="highlightable">
    <ul class="topics">
      
        
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
        
        
          
        
          
        
          
        
      
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/docs-dop/overview/">
        <a href="/docs-dop/overview/">
          <span>
            
              <b>1. </b>
            
             Overview
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/docs-dop/overview/about/">
              <a href="/docs-dop/overview/about/">
                <span>About     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs-dop/overview/architecture/">
              <a href="/docs-dop/overview/architecture/">
                <span>Architecture     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  parent" data-nav-id="/docs-dop/plan/">
        <a href="/docs-dop/plan/">
          <span>
            
              <b>2. </b>
            
             Plan
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/docs-dop/plan/pre_processor/">
              <a href="/docs-dop/plan/pre_processor/">
                <span>Pre-processor     </i></span>
              </a>
            </li>
          
            <li class="dd-item active" data-nav-id="/docs-dop/plan/global_settings/">
              <a href="/docs-dop/plan/global_settings/">
                <span>Global Settings     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs-dop/plan/credentials/">
              <a href="/docs-dop/plan/credentials/">
                <span>Credentials     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs-dop/plan/hooks/">
              <a href="/docs-dop/plan/hooks/">
                <span>Hooks     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs-dop/plan/infrastructures/">
              <a href="/docs-dop/plan/infrastructures/">
                <span>Infrastructures     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs-dop/plan/nodes/">
              <a href="/docs-dop/plan/nodes/">
                <span>Nodes     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs-dop/plan/configuration/">
              <a href="/docs-dop/plan/configuration/">
                <span>Configuration     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs-dop/plan/steps/">
              <a href="/docs-dop/plan/steps/">
                <span>Steps     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/docs-dop/command_plugins/">
        <a href="/docs-dop/command_plugins/">
          <span>
            
              <b>3. </b>
            
             Command Plugins
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/docs-dop/command_plugins/overview/">
              <a href="/docs-dop/command_plugins/overview/">
                <span>Overview     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs-dop/command_plugins/custom/">
              <a href="/docs-dop/command_plugins/custom/">
                <span>custom     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs-dop/command_plugins/ssh/custom/">
              <a href="/docs-dop/command_plugins/ssh/custom/">
                <span>ssh/custom     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
    </ul>
    <hr>
     
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fa fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>

        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable">

            <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>
                
                
                  
                  
                  
                    
                    
                <a href="/docs-dop/plan/" itemprop="url"><span itemprop="title">Plan</span></a> <i class="fa fa-angle-right"></i>
                    
                  
                
                <span itemprop="title"> Global Settings</span>
              </div>
              
                  <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#name-optional">name (optional)</a></li>
<li><a href="#max-in-flight-optional">Max in flight (optional)</a></li>
<li><a href="#max-per-role-optional">Max per role (optional)</a></li>
<li><a href="#canary-host-optional">Canary host (optional)</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

              

            </div>
            
              <div id="body-inner">
                
                <h1>Global Settings</h1>
                



<p>Global settings are on the top level of a plan. This are settings which affect the whole plan or represent
default values which can be changed in other places.</p>

<h2 id="name-optional">name (optional)</h2>

<table>
<thead>
<tr>
<th>Key</th>
<th>Allowed Values</th>
<th>Default</th>
<th>Since Version</th>
</tr>
</thead>

<tbody>
<tr>
<td>name</td>
<td>/[\w-]+/</td>
<td>(sha1 of content)</td>
<td>0.1</td>
</tr>
</tbody>
</table>

<p>The name of the plan is the handle under which dop will store it in the plan cache. This is important so it can later
identify the right plan if you want to update the plan or run it from the plan store.</p>

<p>If you don&rsquo;t specify a plan name dop will calculate the sha1 of the plan content and use that instead. This also means
you will not be able to update the plan.</p>

<h2 id="max-in-flight-optional">Max in flight (optional)</h2>

<table>
<thead>
<tr>
<th>Key</th>
<th>Allowed Values</th>
<th>Default</th>
<th>Since Version</th>
</tr>
</thead>

<tbody>
<tr>
<td>max_in_flight</td>
<td>-1..inf</td>
<td>3</td>
<td>0.1</td>
</tr>
</tbody>
</table>

<p>The amount of nodes DOPi will be executing commands on and DOPv will depoly in parallel.</p>

<p>There are also two special values:</p>

<ul>
<li>The value &ldquo;0&rdquo; will disable thread spawning for debug purposes.</li>
<li>The value &ldquo;-1&rdquo; will spawn as many threads as there are nodes.</li>
</ul>

<p>This option can be overwritten on step level for DOPi and on infrastructure level for DOPv</p>

<h2 id="max-per-role-optional">Max per role (optional)</h2>

<table>
<thead>
<tr>
<th>Key</th>
<th>Allowed Values</th>
<th>Default</th>
<th>Since Version</th>
</tr>
</thead>

<tbody>
<tr>
<td>max_per_role</td>
<td>-1..inf</td>
<td>-1</td>
<td>0.11</td>
</tr>
</tbody>
</table>

<p>The amount of nodes per role DOPi will execute in parallel.</p>

<p>There are also two special values:</p>

<ul>
<li>The values &ldquo;0&rdquo; and &ldquo;-1&rdquo; will make DOPi ignore the roles.</li>
</ul>

<p>This option can be overwritten on step level</p>

<h2 id="canary-host-optional">Canary host (optional)</h2>

<table>
<thead>
<tr>
<th>Key</th>
<th>Allowed Values</th>
<th>Default</th>
<th>Since Version</th>
</tr>
</thead>

<tbody>
<tr>
<td>canary_host</td>
<td>true,false</td>
<td>false</td>
<td>0.3</td>
</tr>
</tbody>
</table>

<p>If this flag is set to true DOPi will randomly choose one host and apply the step in a first round only to this host and only run the others in parallel, once this step succeeded.</p>

<p>This option can be overwritten on step level</p>


      
      
      </div>
    </div>

    

    <div id="navigation">
        
        
        
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://swisscom.github.io/docs-dop//js/clipboard.min.js"></script>
    <script src="https://swisscom.github.io/docs-dop//js/perfect-scrollbar.min.js"></script>
    <script src="https://swisscom.github.io/docs-dop//js/perfect-scrollbar.jquery.min.js"></script>
    <script src="https://swisscom.github.io/docs-dop//js/jquery.sticky-kit.min.js"></script>
    <script src="https://swisscom.github.io/docs-dop//js/featherlight.min.js"></script>
    <script src="https://swisscom.github.io/docs-dop//js/html5shiv-printshiv.min.js"></script>
    <script src="https://swisscom.github.io/docs-dop//js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://swisscom.github.io/docs-dop//js/modernizr.custom.71422.js"></script>
    <script src="https://swisscom.github.io/docs-dop//js/learn.js"></script>
    <script src="https://swisscom.github.io/docs-dop//js/hugo-learn.js"></script>
    

  </body>
</html>

